version: "3"

tasks:
  build:
    cmds:
      - go build -o {{.TASKFILE_DIR}}/../../bin/pgm/pgm ./cmd/pgm/main.go
      - env GOOS=linux GOARCH=amd64 go build -o {{.TASKFILE_DIR}}/../../bin/pgm/pgm-linux-amd64 ./cmd/pgm/main.go
      - env GOOS=windows GOARCH=amd64 go build -o {{.TASKFILE_DIR}}/../../bin/pgm/pgm-win-amd64.exe ./cmd/pgm/main.go
      - env GOOS=darwin GOARCH=arm64 go build -o {{.TASKFILE_DIR}}/../../bin/pgm/pgm-macos-arm64 ./cmd/pgm/main.go
      - env GOOS=darwin GOARCH=amd64 go build -o {{.TASKFILE_DIR}}/../../bin/pgm/pgm-macos-amd64 ./cmd/pgm/main.go
      - env GOOS=linux GOARCH=arm64 go build -o {{.TASKFILE_DIR}}/../../bin/pgm/pgm-linux-arm64 ./cmd/pgm/main.go
      - env GOOS=windows GOARCH=arm64 go build -o {{.TASKFILE_DIR}}/../../bin/pgm/pgm-win-arm64.exe ./cmd/pgm/main.go
